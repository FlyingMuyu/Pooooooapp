<template>
  <view class="about-container">
    <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
    <view class="nav-bar">
      <view @click="back" class="back-icon">
        <text class="back-icon-text">â€¹</text>
      </view>
      <text class="nav-title">å…³äºæˆ‘ä»¬</text>
      <view class="nav-right"></view>
    </view>

    <!-- åº”ç”¨ä¿¡æ¯ -->
    <view class="app-info">
      <image class="app-logo" src="../../static/app-logo.svg" mode="aspectFit"></image>
      <text class="app-name">ä¸€èµ·æ‹‰å±</text>
      <text class="app-version">ç‰ˆæœ¬ {{ version }}</text>
      <text class="app-slogan">è®°å½•ç”Ÿæ´»ï¼Œåˆ†äº«å¿«ä¹</text>
    </view>

    <!-- åŠŸèƒ½ä»‹ç» -->
    <view class="features-section">
      <text class="section-title">åŠŸèƒ½ä»‹ç»</text>
      <view class="feature-list">
        <view class="feature-item">
          <text class="feature-icon">ğŸ“</text>
          <text class="feature-text">è®°å½•æ¯æ—¥ç”Ÿæ´»ä¹ æƒ¯</text>
        </view>
        <view class="feature-item">
          <text class="feature-icon">ğŸ“Š</text>
          <text class="feature-text">æ•°æ®åˆ†æä¸ç»Ÿè®¡</text>
        </view>
        <view class="feature-item">
          <text class="feature-icon">ğŸ†</text>
          <text class="feature-text">æˆå°±å¾½ç« ç³»ç»Ÿ</text>
        </view>
        <view class="feature-item">
          <text class="feature-icon">ğŸ‘¥</text>
          <text class="feature-text">å¥½å‹äº’åŠ¨ä¸ç«äº‰</text>
        </view>
      </view>
    </view>

    <!-- è”ç³»æˆ‘ä»¬ -->
    <view class="contact-section">
      <text class="section-title">è”ç³»æˆ‘ä»¬</text>
      <view class="contact-item" @click="contactEmail">
        <text class="contact-label">é‚®ç®±</text>
        <text class="contact-value">muyu@mcjmz.cn</text>
      </view>
      <view class="contact-item" @click="contactWechat">
        <text class="contact-label">Github</text>
        <text class="contact-value">FlyingMuyu</text>
      </view>
    </view>

    <!-- åè®®é“¾æ¥ -->
    <view class="agreement-section">
      <text @click="viewPrivacy" class="agreement-link">éšç§æ”¿ç­–</text>
      <text class="divider">|</text>
      <text @click="viewTerms" class="agreement-link">ç”¨æˆ·åè®®</text>
    </view>

    <!-- ç‰ˆæƒä¿¡æ¯ -->
    <text class="copyright">Â© 2025 ä¸€èµ·æ‹‰å± ç‰ˆæƒæ‰€æœ‰</text>
  </view>
</template>

<script>
  export default {
    data() {
      return {
        version: 'Alpha0.0.1'
      };
    },
    onLoad() {
      try {
        console.log('å…³äºæˆ‘ä»¬é¡µé¢åŠ è½½');
        this.loadAppInfo();
      } catch (error) {
        console.error('é¡µé¢åŠ è½½å¼‚å¸¸:', error);
      }
    },
    onShow() {
      try {
        console.log('å…³äºæˆ‘ä»¬é¡µé¢æ˜¾ç¤º');
      } catch (error) {
        console.error('é¡µé¢æ˜¾ç¤ºå¼‚å¸¸:', error);
      }
    },
    methods: {
      // åŠ è½½åº”ç”¨ä¿¡æ¯ - ä¿ç•™å›ºå®šç‰ˆæœ¬å·
      loadAppInfo() {
        try {
          // ä¸è¦†ç›–å·²è®¾ç½®çš„ç‰ˆæœ¬å·
          console.log('å½“å‰åº”ç”¨ç‰ˆæœ¬:', this.version);
        } catch (error) {
          console.error('åŠ è½½åº”ç”¨ä¿¡æ¯å¤±è´¥:', error);
        }
      },
      // è¿”å›ä¸Šä¸€é¡µ
      back() {
        try {
          uni.navigateBack();
        } catch (error) {
          console.error('è¿”å›å¼‚å¸¸:', error);
        }
      },
      
      // è”ç³»é‚®ç®±
      contactEmail() {
        try {
          uni.showModal({
            title: 'è”ç³»é‚®ç®±',
            content: 'muyu@mcjmz.cn',
            showCancel: false,
            confirmText: 'å¤åˆ¶',
            success: (res) => {
              if (res.confirm) {
                // å°è¯•å¤åˆ¶åˆ°å‰ªè´´æ¿
                uni.setClipboardData({
                  data: 'muyu@mcjmz.cn',
                  success: () => {
                    uni.showToast({
                      title: 'å·²å¤åˆ¶',
                      icon: 'success'
                    });
                  }
                });
              }
            }
          });
        } catch (error) {
          console.error('è”ç³»é‚®ç®±åŠŸèƒ½å¼‚å¸¸:', error);
        }
      },
      
      // è”ç³»å¾®ä¿¡
      contactWechat() {
        try {
          uni.showModal({
            title: 'Github',
            content: 'FlyingMuyu',
            showCancel: false,
            confirmText: 'å¤åˆ¶',
            success: (res) => {
              if (res.confirm) {
                // å°è¯•å¤åˆ¶åˆ°å‰ªè´´æ¿
                uni.setClipboardData({
                  data: 'FlyingMuyu',
                  success: () => {
                    uni.showToast({
                      title: 'å·²å¤åˆ¶',
                      icon: 'success'
                    });
                  }
                });
              }
            }
          });
        } catch (error) {
          console.error('è”ç³»å¾®ä¿¡åŠŸèƒ½å¼‚å¸¸:', error);
        }
      },
      
      // æŸ¥çœ‹éšç§æ”¿ç­–
      viewPrivacy() {
        try {
          uni.navigateTo({
            //url: '/pages/webview/webview?url=#',
			url: '#',
            fail: (err) => {
              console.error('è·³è½¬éšç§æ”¿ç­–å¤±è´¥:', err);
              uni.showToast({
                title: 'æ¼”ç¤ºç¨‹åºæš‚æ— åè®®',
                icon: 'none'
              });
            }
          });
        } catch (error) {
          console.error('æŸ¥çœ‹éšç§æ”¿ç­–å¼‚å¸¸:', error);
        }
      },
      
      // æŸ¥çœ‹ç”¨æˆ·åè®®
      viewTerms() {
        try {
          uni.navigateTo({
            url: '#',
            fail: (err) => {
              console.error('è·³è½¬ç”¨æˆ·åè®®å¤±è´¥:', err);
              uni.showToast({
                title: 'æ¼”ç¤ºç¨‹åºæš‚æ— åè®®',
                icon: 'none'
              });
            }
          });
        } catch (error) {
          console.error('æŸ¥çœ‹ç”¨æˆ·åè®®å¼‚å¸¸:', error);
        }
      }
    }
  };
</script>

<style scoped>
  .about-container {
    flex: 1;
    background-color: #F5F5F5;
    padding-bottom: 60rpx;
  }
  
  .nav-bar {
    display: flex;
    align-items: center;
    justify-content: space-between;
    height: 120rpx;
    padding: 0 30rpx;
    background-color: #FFFFFF;
    box-shadow: 0 2rpx 10rpx rgba(0, 0, 0, 0.05);
  }
  
  .back-icon {
    width: 48rpx;
    height: 48rpx;
    display: flex;
    align-items: center;
    justify-content: center;
  }
  
  .back-icon-text {
    font-size: 48rpx;
    color: #333333;
    font-weight: bold;
  }
  
  .nav-title {
    font-size: 40rpx;
    font-weight: 600;
    color: #333333;
  }
  
  .nav-right {
    width: 48rpx;
  }
  
  .app-info {
    background-color: #FFFFFF;
    display: flex;
    flex-direction: column;
    align-items: center;
    padding: 60rpx 0;
    margin-bottom: 30rpx;
  }
  
  .app-logo {
    width: 180rpx;
    height: 180rpx;
    border-radius: 30rpx;
    margin-bottom: 30rpx;
  }
  
  .app-name {
    font-size: 44rpx;
    font-weight: 600;
    color: #333333;
    margin-bottom: 10rpx;
  }
  
  .app-version {
    font-size: 28rpx;
    color: #999999;
    margin-bottom: 20rpx;
  }
  
  .app-slogan {
    font-size: 30rpx;
    color: #666666;
  }
  
  .features-section {
    background-color: #FFFFFF;
    padding: 30rpx;
    margin-bottom: 30rpx;
  }
  
  .section-title {
    font-size: 34rpx;
    font-weight: 600;
    color: #333333;
    margin-bottom: 30rpx;
  }
  
  .feature-list {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 30rpx;
  }
  
  .feature-item {
    display: flex;
    align-items: center;
    padding: 20rpx;
    background-color: #F9F9F9;
    border-radius: 20rpx;
  }
  
  .feature-icon {
    font-size: 40rpx;
    margin-right: 20rpx;
  }
  
  .feature-text {
    font-size: 30rpx;
    color: #666666;
  }
  
  .contact-section {
    background-color: #FFFFFF;
    padding: 30rpx;
    margin-bottom: 60rpx;
  }
  
  .contact-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 20rpx 0;
  }
  
  .contact-label {
    font-size: 32rpx;
    color: #333333;
  }
  
  .contact-value {
    font-size: 32rpx;
    color: #A67D4F;
  }
  
  .agreement-section {
    display: flex;
    justify-content: center;
    align-items: center;
    margin-bottom: 30rpx;
  }
  
  .agreement-link {
    font-size: 28rpx;
    color: #A67D4F;
  }
  
  .divider {
    font-size: 28rpx;
    color: #CCCCCC;
    margin: 0 30rpx;
  }
  
  .copyright {
    display: block;
    text-align: center;
    font-size: 26rpx;
    color: #999999;
  }
</style>